require Logger

keys = ["8becf17451828f62a0a0552f224c6cbaff181cb8951fc42ea5012d1026b5be7dbf05129f3553762f335a97f997932c2a",
"b20fabcdaf6311eac5a45676ab41241c4ad260a5566e841c6ca29ea6570f9e912583f972f7c959951922b668db71418f",
"b02a6a4779dc985d804532ca0862ee8941638628135076ceb70c39a834d962dbe7f7aec54495860eb303d15596a7ab44",
"8112d92251f9a178a50e9569f063be0ee8aa9b4891258a63f237ab5ed595f1525e8bdc4e7c940a45d71150fcaf64599a",
"a551cd58e981874be2181fe0db7e866c5e51aab5c0ebf72a5a330ff15b9522c32221b53a8b86ed7fc73cde075263897f",
"a37bc740b03fe95e99bfc50d12fb07f9555ca0cd8a4067d4fa9c49d8ef3a0aa65003d50326148d9ee6f2375812c948cb",
"a9ad7ad3dc4bc442e742a44bf7ea5ed951aff5e50b31ff0f8686085c8c11f1f4d203b40e656e3290742accd2cd90022d",
"b1f0b03dfb2cc7e62ad4a7b7909099983494666bd3351042f2dd9e1ac9618fa97d2277348e5f7f3e85b337aebe30e4eb",
"b1962bd27fdb513b13709b2b2bcd0857eed99106767ff7f38ba0e6362e2e8a3d728cea260ceaba06aec30287f6e4d122",
"906c166dd06c27fc29b80f3091bae936a3c8d1a603dda9fec97a8de8b51a357bbe240939646bde324dc060adb843aad7",
"a40ac71c95d41fb038313a25db6215bc9fbbf8e594bc1d0909af823f96d06147e18e5a0cd75b5a87744024e42f7c3b65",
"a8b154055a18c992ff5c809c2332ba621872bad650a1d6a7c9e3196ea8995a689c359ec0852daa316673f737513001a0",
"b343da088b3fed3105c0119440f8e2aea6409f9b8d720907f2044834db6191a2fb542c7dc89c5d80c6f38cc4c458acdf",
"b88026cf5ebe34f1009214cd41dbf5c413240119b625f7628f65647b65362776017842dc0ccacb0a97e3753236b4eb8e",
"82a0756d78995344a9a89f1adc785abfc58b491e8f7837dcc02fca0068819421783b529c371b76227d305739ad57e1ff",
"a27f378cee582741cfd82cc22d5dff801355385396b7793292ff69a178bc8a11214da21b87e207f9e8db3d076485bc39",
"b4d3dbe5b3be87a12c5a8ac6b1ba40c2d1966dd4ac9c21b3b1e6c1206668734631e8d6d57772a7afb9b124370e578278",
"b6cf61fe9634c37183cf255902e697818ffe633947553157794aafd6df0e46166da0b5d5479a30a8ce109b54805c7059",
"8206e09f48701188cc24eee004f2244849556e00fdd86151b2f7b26b18ba02c5edd6989c21dcb6fcaeb0d37fdb528390",
"b6edca1644ad385da5e9f9ae60423b4e809d02485d6aa26365dbe006e3a7bd77af6279c21094210ac67e8f0918c5de99",
"a0a2c00a23cdaff46b5fd14a8a1015d87c70a6422a8c9f57fc67bd14c9b3d69bcb7d9845f99e3b7d1ebbe6371a82441a",
"917790dd5eb2651aa1d5410b07ae93942cddba94256ee34368617ed14853bc1f53d45d4e93a5aaad19dd982c3ece952c",
"a644335b8375339b945755d9aa0c1a1c834df0f66a9730c33fb4eb8d475273ecac7b874b5d0ef5a65f3179732a4bf10b",
"b3e645a44fd150ff8468c82662ab3a51d726012b7559a3542c46f9b3d8e0ad9b08366c8155928d26fa5beb29b2ccaea0",
"a01ce9383b0552cf1afd1ce474940aaee9ecbeed6674f2100b94733b8a7c78f791cd8ff8abe9163fe8aedd6309c572cc",
"b84520731849212a8ae5041088cb25930a79d26519f60eabe28f90f0479dd442690286279be3332aeaf4c07183e7333d",
"a67380de73e703dd92d7c8740d81e523f777dad1723faaacef8b0d1d7af7a5a23d16f860ac3fcb513abcbfe60f3b5bde",
"a0d7af2f2b9c6906e071d529d2d559d25dc9d0498259e083a4ec4e501ee77e2e12fe192194a8fd3b8856dc97e008de1d",
"a12ce0e778f3ac8f6e3af1d5bfa2e02863e90d3612f4a35657ac0e362562bad7ab27f6ab56cc7ac5bc50ec4543673c55",
"8cafc392492cebfd54ec9fa34f8677023c43d975e4e1fe27a01bb929ee58cfc1845773d07260c39270b1039874c095a1",
"a231b63c5716d502d0f3e2adbd280717870d4089eec7f8014686c79674a874cc0b3036dbce016916064e6d7ce5469ce1",
"a98aa11ec53b07b03988e8c2cdb1d2679a20a5252350a409edf2325f31ca7c1294c3cdb8e0fc68c017ce2130ae5ae5cc",
"8695fa4492ca359f2ddc9d1d2ad2e3207e259c8d15f283d7ec039ae7a3cd5e63178f2db489c0db7a6b59a3573013bf65",
"a7f02ea0aa85841cedbf081f903e1a27b7423ae67197bed63a56b1121f0a03121d849a02c093adc55949bf35d870e5ca",
"94fce9e76f8bb23ee43683804892b4f54d427c13e9bc3ee7a126e0f963bc0c861a9a8bb2f5676c2687f0c06b97c4b80c",
"b6625d400c4930a52a62813817f236fedd9ec905b4bf15b7ee0c7bdcbae847c4024895cf736f6c3cbf7a54c7416e5259",
"a07b8c43231769671f2e106c260a3ec451ed529d23c0a0863850867bdd31e317dfa7e3440b6b18e1a0f15bd9410b2c48",
"93202f232d722ebf9643a4101dcf09668a21f65671742c44be876c99d1a4757011bc0ac2166fead0d8e8c3a4d442e09e",
"80cfe4713dacfeae6f8e2c769e334f252a7c283181ca3ab200c9a39ea3c891c19ad1119bc828b462ff09917e4ac883e0",
"a9dbe9fb71e5e9322c3df8f1b8428e5000754c201c74fb7b4575cdcbbff81f92f6279ad434b777b799cf1138c057044d",
"8a4c4d045a204ce2e786635c293eef9b19f838337837c6ddfd0207567507607da0238201fa7436fbc90b7f4fbcbd41a5",
"b33b11e9032818f121eae3a6cf6e9fc9f2e606eb06a7c62ac43040b7ecd00c4ea4478f8c71de89f2b5281cc87db4ffd8",
"8e5184191e5449d10c06688a467280a886244de550a653fb6c054c2af1cfe2f17bc1998d781eb2712fa4903741e1f7cf",
"8a0572dc731cb7253cebc49e074be1c2fefd13195e264e940d5695df37ce303d5f1876c6c327143edb3f657257ca4ec1",
"8e51f328124a237074d3cd2efec237d87f9e4b404c5a4c198b445de9fb9e7d285ffdd6d0b675446967516799551c2b22",
"a78a11547a506317d090d2a6e75077faaa9a4d2f7e792094f64f3e406a3cf92ad45d007f725603e54d603260307eee5f",
"8f8fef9b8c7b4fed433515c5be1ff47996b220b6b01dbc4cfa928c0442d0714306568eff65d4ece1441e1c714a82fab1",
"901adbf2b6232496c370ad379b5b63f09291e336a3e444e89db24c7a316292caaf0e66e9992e21baca7a2aed93a1813b",
"85321565f010459c7797aeb146e7c9f29294e0a1e37e7b1148724cac4641d22eab8aaac8c5e2e40d559ba25cd9cf9069",
"b263ce024b86b04946279db8103084f186d4ec9357e82533a72411daef08626617f8b7ed10c6f1bca913384f3c427d6c",
"9945d1c550dda6f0606b01b3f5a034cec7cb231a1f45735300850cdf8ab721a2d28972f58d8b84ef8254b512ff56fbd7",
"8d2b008ad8f85ff0b2b1fa2bcef545491444170e24e2bb5d3e5f203d11db239c41dbb0a5f8e8a6d5242e18abd54db0d5",
"8b74e80c194867325a23ea140abcee290323140cb25933d1734d8e92fc4b2af2f5587d45ea3a61ca49102d86e008992d",
"8c719dc953abdc60f5eda4d93b9d2ed8c193980d591822350151c818e2e511282793afb716a53be68366099c7e8ded6b",
"a56806a1897a51153536a76ff463676853e8873706d578fbee956a32576e31bb8a44b495ba47fdad7caf17ae8e1b46ae",
"8ef6eb949220c98ba125e10dd518d9a2f633a66fa9402f0fd060e2b972a9cf9eee48ac345e8b0731aa932eb0e6020fa2",
"87238becb0d46b80dffea7892adfbdd26a74f7fc2dfbebd1fb26e16378f4fe14d6bc4d4ae474a2ec972c448ca9ce4604",
"a5083bd5e649db6965cfa18b049fa982847c1bc898a46655b852507e7fafeaa42ed7dcc1c9f6aba0b46bc904bb005fd6",
"8efbc6c5c69cb8f8b753af98ac7d2a944b811857201b68ee7389afdb65c30fc5393b9f47a63603be3c8a84868daf073e",
"8846cc2db998d235832d6230021c4615ec9a429b1f177452867100f0c304d161105e510be0ecb77a0a54377cc177548d",
"87fb58e820a28a02c2e4d5f47997745b823f8e0804ebec594d53b2fcb6b4612ffe0030a99fbe4ca79a7fb197d08da44d",
"a8c45bb03a217fbf0a926ace5eec25567bf01b4eadc31a2583088fccb81c341fc1d4247da83d9a1b8ddb836b3ce9e036",
"86fda7d1ddf7a104d24a40cfa1ab52650a014635345a4d13a016e01e2a39c181b121deb28226cd843a775d5dd29c4b62",
"a2fc93af562b471808d332e015757b633b6bdf3719dc8bad05fcc49664a00bdfd5e16ddbc1a52cd9cf88d1a7d11eda0f",
"a56d3fcaacd6afc804aa955525c92c535063e480608f31bf3d2449a2cbf30ce5f8e8d6ef9138453046cd5464ebe0616c",
"86b9f8d84294d3474836940f8c28f7473146f96955e46faa765d6cca32e387d9508f65c02f08bc5073c9573582010bda",
"a1c897640d3cf657952a74b60ef0f262034ab1456834bb205b61e5a36e83b9e899d632886029c2e137c9248e4141d036",
"a36b00eea74b99c63fe8e22105c993abc564410bfbab96892c9d12f285ea21a1b9014a50c7e7b4da0130dca1c49f426a",
"a92752f782ca10e55438bcd8daae10dd4491894e29963009e2bfa3a76973d742e1685055d5e9afd82a7934b78da9edb3",
"a970ded77779b095f85b4e1a0acd2093f3c235370fe7605715295be046277bead9e4f053c7230690728a9375310f6677",
"92ee43997ff293c51d1c9b6043ccb7abe91ef602e4608a476a198820d565816c3bea874c627afad028b3cd21f40792c6",
"a24a7a360495369054edc704511985f5f4c02a8dfd20d603bfa1a444e3dba4629c8ed59551aea5ceadce78e42aa39e72",
"88b1baa425d2fda2abad205d6e4132fe5a7ee7a3b97eb3f66d9683e89490646982f607a9ff0914ca71a3464198b085a6",
"a8cbae2e39578bafbfbb3b66b7a82732a4ec3e5138864ecd12386c14ca8e32ca2d56a8748b74192bf26fea3a21d0ffda",
"99abac91dfbf9e4f58152d3e933ee931312eaef7fbc3267c52008a935bf6a3e96e43e2bc5980daaba2968089b0414f26",
"aa80b659c1842c09be41e1c7e30f5a3b2f89607e54b4adf16d5c6dd3d322716148b4d5ad06f80f7b04d34b90a43d1032",
"a9402cd67f9038442d64388ceafe92029c6a1f952bdac72566a1f12f05d3455bb834eb909fda4df7717452b481d30084",
"b01cab28692fe42f8c86ce144cad08b4e7d9a7ffc646bd514533c85fd9a89c7bb98d4da01b1a8a4eabb04262dac5ce4d",
"b13e4099878a650850562de34cebe6bc4673c0ce831a6e090e38b24988c29362e4d45d0eb061c4ed0a15f819282f329f",
"832ec496b6278b01bde9bd4b8bd7194691a936291f549c69ec388a77f1bba72d5182008e7ef8a327b25d27d34ac2929e",
"b795313c99bcbde1549c45c0a61a8d70ee4d6cf89055d53de6b9ac8c66e06f8e5b2f69089b58ab5fad663a5f38ac5362",
"827d7950d4c78eaa9e994d791251971af0f21a55d22dcab3b9c311f5e7287cbc8bba8d28d995dadc64e4a0bc7aeae114",
"8f19cf2702d6edbbd5a840162d5f5eb1a37e4d4d70a8b4f6c55d93535f5a6584d276c199d42bfe9eff90f1397d4bc671",
"a659b77bf33542cb29c8762cc3074d474a886d4142fe1f5b7ae5246a8b96265f926876615ecdb287aeaa106f32431731",
"8593228b1083c3ac47294938b13d505940e3c6e2ca6a26d2df8e273bc0edc10da48770b11a53248f5fb633528963cf54",
"8c4a5ce29570a2295e1ad76a432382c05a8affa3865d162487c6be78ae1949183079f42a7f0869b542ce073b9fdc0dc2",
"82c828cb98adc3004d8a3e1a6011d97ca22993af09ca6517e0cdf9a150e38ae0c9bcc06f119d780d760fb5cb193b85da",
"b43698faa78e9b09441a9e91f797fd52745639f5bc0873cebea0d4ba32e91ca79a13068e43784b8ff9ef9c983b42810c",
"a3f4956b3fc470879d647c5b6414393f8ea6c968e76cf21b64306cd5428cec2a2f912fc9665d066123cc0f7ebcfbc00a",
"b831b647502835bc940c2ab73550f422d6bb20f054037b25291a86c551ee00e4311345ca6b80095cef64fd8177166821",
"b95e31509c1be7124c14263e65528b4e5e3c2e2d4073e8991ac9c71613a3a24779a0a6941fb8b161cbf230b2c421598f",
"9697e59d954b60fbb72e7eef9d7e77cf83f704add630ea10c9c35b3a785f57cef846b44a76e04d188414073e34de5d97",
"a11f35cf3eda267ebfa49b27491d88e7e37c257903e0894756bbce6075decae67a861cd077d6925a5d695056097b95da",
"a4c3a503ce0a51a69a2e456ae8e6d53e3f39c221a7ef26132cdb9f403b3f647a8bec22594503cbe8fc1157f52bf21fd0",
"a364cf142c996bd61fe4fd53712f63cf9a881cea0dc8ef9df299d77262e6e3d6a5868025a247b8ddfe0728a7d89b92b8",
"956fc09463e561199d9cad3887203e0b5d1bd83aeb3d81878265ec155ad4e0847c0fdbacda261b20b9e004d24d6a95f2",
"b088216feba46098632435c0e1407f27eee3bf8b5da56069e3c8f977ec129dbaaa58bbbb14d7a28c92092d476c5a6384",
"aefc93eb2eab11120b8d484610bb93d251d58201d016b99c94f7c020ce21d9db1bc12822ac35654f325f3c1274137c16",
"b8243ca6d305b4b3147c59a47939c103f0e18b26dd5d49f84b8a460943999c1f5e7cc8851d7781d1329296324021036d",
"987d61243593c8d963c2ca9b2c5eac57c4590422331c1cadd27cebe3dd3c3bc2fa694682cbb3c89e8f9df772e8dfb274",
"951ceca0f0b7c6e620df17dd056554def64ce5e533e9e54602b09518c923bf3b8da29c43026ecc72d40909f72c19c3e1",
"a79d526e8d5b356c7b404ed51f7ba986d05b909eb7e319d6a90e85d224a19215f29523b7657419029cb139f017372930",
"a9e53b7fa2abbafa85c609c2b552a85f68764e6827ce3a65d6d5c318245bf44db93b91dbdb68c4e9d8af2d4779f3f1d0",
"a5e68837fcae0a750d4db5afc26f79af5cf34efe01dbb2190f10d9d92b4b2f8ac667970a3fa801f833c3bc56ab9b54f5",
"964e98642918639c7188d5e9f62288e62e7c3236e25723c011878f91721e134df57c2c7c50450e7ee8184cab76ac42ae",
"876ab67f834c2939c789d0f384097727c4c130d4cbbb554e2b1b6eab32e087648bbaca6c0af040bf3e97ca2fbadb0f58",
"a0a9a456105c0ac997651a770f9b8d1130e496556ed5468a192f6e4aef6a25c55c1322b1516580c2217186f6c9ee24eb",
"ad1ad0e5c2ff07b49f229786bf40ca1b337e93a871d7a36acb2f10c55e6c9618f2afc88e5762c08ecc913081ca3ea0eb",
"ab5d127f2555b87295c205a09c9bcdeb4e1e4e98210065af88939098d1387034cf296c25cad65ad67b83f29db8424265",
"b8d6d5c8f3068f1776b427840fc259d910e3a829d836135fd7e987a67e1b2b0af7d81c7c4baff9ba7714674c77d4544d",
"953169bbbdba79bb80efa999008e0541dc19b56eff37c5cc9f68296360a6c3476738a8645ba9ee735565dce4b3eb2052",
"af0bedc4ff5642cd0e46271186123ecf919fc32d3ddffd8d92baca87dd12820442afe462f23e993e191820fbabcb4b3e",
"965a3b294ea83a99b2a70e17eb6a28e64d7964940a2e7e4f3ad0c45d2ce83da0ddfa4ad93e3cafc48a7dec19eefede13",
"839056d87095c29359f16135c403af8d37a5db7219826c33d18e1831600a6e87dd00f9cfda71714611201f89f9438f08",
"8141b6199911c709f27d13ccb0dd909a6044ca44459e5f4986b3c7d7f9f8430c16c3fc41a8dda7bd8c3a173bc98b776e",
"a526ac5eda1e289fe5f20ff8a4b98a25c6666f76671c1ecfb5f932ae6e3148cd257fb5298344d69875f5f2298af5abf9",
"85e139130ce1cf12eae9f9ef5724dba0fa3104b70b4eb2c8e00a4e0b31b4abc9c3ebcd7eef289333319d1c2f4f6633f4",
"b8eda87ef266356a0b84024cc202e67f25ed4b43fca855653c4ac73c1aa67b73ad974449e5cd17ef4e13694a787188c9",
"add030cd9d69c7fdb2d8bc19ef1e17139c6b20f75b25f772373cecc64c955c26d53452ba6dcf994bc48e3e46bc65497d",
"a340a80b734da750079f19d0d42c4cfa832ce691b76a5237fe697f0662cd30bb4abb8281bd02ca520dbe22f6218bfd41",
"85a87db39ef9de56597101e2a34579cc0007dc8bc337e72c5fed040db67cfba655e98928577e961123fbd2a651380ed3",
"b9ab94dbe124d5cff5ba3e87b4a7d4d4f389b8bef5e4842d2219ca839f7c448698daed9ed89ad70101517a2f544e6d7f",
"b3ee719703139859967b9248697d6704f0e12a35e05db4b43068192382aa844a2a6f42a3b21534e374169428055212ee",
"87e3493f552372edb11a3d0922d9f97ad2975cd9a5055ee47e8234bd21883bcc60b5b21f5b6a1a059f1dae51040a4f99",
"b73e8c8a7ddf2c527c1010c84f1a1afa959e7fb9b78bcb65c97ddad700f312adecc91c4eb6428a00af96261f52c123bb",
"b2baa913c1007e24f809f32a59c4832b6f39e26ff8be1750be795847c91b1bf1d35153b3f10c32f72248a9f9118241bd",
"8450a8be9428fd4bbae193816119fd11b330264f807ef416ca2ff1271ad5637c065ada7071edf284f858fc8b52eca18e",
"954a1106f82ec92fd68437033f6acc77cf9d0bd43b2961123d96ed05d80e14e6a18e961811cfd7c43c13301d9dfed97f"]

public_key =
    Base.decode16!(
      "a491d1b0ecd9bb917989f0e74f0dea0422eac4a873e5e2644f368dffb9a6e20fd6e10c1b77654d067c0618f6e5a7f79a",
      case: :mixed
    )
message =
  Base.decode16!(
    "0000000000000000000000000000000000000000000000000000000000000000",
    case: :mixed
  )
signature =
  Base.decode16!(
    "b6ed936746e01f8ecf281f020953fbf1f01debd5657c4a383940b020b26507f6076334f91e2366c96e9ab279fb5158090352ea1c5b0c9274504f4f0e7053af24802e51e4568d164fe986834f41e55c8e850ce1f98458c0cfc9ab380b55285a55",
    case: :mixed
  )

all_keys = keys |> Enum.map(fn x -> Base.decode16!(x, case: :mixed) end)

one_pk = [public_key]
ten_pks = List.duplicate(public_key, 10)
hundred_pks = List.duplicate(public_key, 100)
hundred_and_twenty_eight_pks = all_keys
thousand_pks = List.duplicate(public_key, 1000)

Benchee.run(
  %{
    "1" => fn -> Bls.fast_aggregate_valid?(one_pk, message, signature) end,
    "10" => fn -> Bls.fast_aggregate_valid?(ten_pks, message, signature) end,
    "100" => fn -> Bls.fast_aggregate_valid?(hundred_pks, message, signature) end,
    "128" => fn -> Bls.fast_aggregate_valid?(hundred_and_twenty_eight_pks, message, signature) end,
    "1000" => fn -> Bls.fast_aggregate_valid?(thousand_pks, message, signature) end,
  },
  warmup: 2,
  time: 5
)
